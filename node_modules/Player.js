
function Player(startX, startY, name, id) {
	this.x = startX;
	this.y = startY;
	this.unitVectX = 1; //direction player is facing
	this.unitVectY = 0;
	this.dirX = 0; //direction mouse is relative to player
	this.dirY = 0;
	this.name = name;
	this.id = id;
	this.health = 2;
	this.dead = false;
}
Player.HITBOX = 10;

Player.generateNewPlayer = function(name, id) {
	return new Player(300, 300, name, id);
}

Player.prototype.updateDirection = function(targetX, targetY) {
	var vectorX = targetX - this.x;
	var vectorY = targetY - this.y;
	var length = Math.sqrt(vectorX * vectorX + vectorY * vectorY);
	this.dirX = vectorX / length;
	this.dirY = vectorY / length;
}

Player.prototype.checkHit = function(bullet) {
	if (Math.abs(this.x - bullet.x) <= Player.HITBOX && Math.abs(this.y - bullet.y) <= Player.HITBOX) {
		bullet.shouldExist = false;
		this.health--;
		if (this.health == 0) {
			this.dead = true;
		}
	}
}
module.exports = Player;